
:root{
  --bg:#ffffff; --fg:#000000; --muted:#666; --border:#e5e5e5;
  --ok:#0a7f2e; --bad:#c62828; --blue:#007BFF;
}
*{box-sizing:border-box}
body.mono{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
.header{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:12px 16px;border-bottom:1px solid var(--border);background:#fff;position:sticky;top:0;z-index:5}
.brand{display:flex;align-items:center;gap:12px}
.brand.small .brand-name{font-size:16px}
.logo{width:36px;height:36px;border-radius:8px}
.titles .brand-name{font-weight:700}
.titles .subtitle{font-size:14px;color:var(--muted)}
.titles .demoline{font-size:12px;color:var(--muted)}

.container{max-width:960px;margin:18px auto;padding:0 16px}
.card{background:#fff;border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:14px}

.exam-list{list-style:none;padding:0;margin:0}
.exam-list li{margin:10px 0}
.exam-list a{color:var(--fg);text-decoration:underline}

.hud{display:flex;align-items:center;gap:10px}
.timer{font-variant-numeric:tabular-nums;font-weight:700}

.btn{border:1px solid var(--fg);background:#fff;color:var(--fg);padding:8px 14px;border-radius:10px;cursor:pointer}
.btn.ghost{background:transparent}
.btn:active{transform:translateY(1px)}

.q-head{display:flex;align-items:baseline;justify-content:space-between;gap:8px}
.q-index{font-weight:700}
.q-text{font-weight:600;margin:10px 0;white-space:pre-wrap}
.hira{font-size:14px;color:var(--muted);margin:4px 0 8px;white-space:pre-wrap}

.options{display:grid;gap:8px;margin:10px 0}
.opt{display:flex;align-items:center;gap:10px;border:1px solid var(--border);padding:10px;border-radius:10px}
.opt input[type="radio"]{transform:scale(1.2)}

.nav{display:flex;gap:8px;margin-top:8px}
.footer{text-align:center;color:var(--muted);padding:24px 0;border-top:1px solid var(--border)}

.result-title{font-weight:700;margin-bottom:8px}
.result-item{border-top:1px dashed var(--border);padding-top:10px;margin-top:10px}
.answer-line{margin:6px 0}
.selected.correct{color:var(--ok);font-weight:700}
.selected.incorrect{color:var(--bad);font-weight:700}
.explain{color:#111;margin-top:6px}

.floating{position:fixed;right:16px;bottom:16px;background:var(--blue);color:#fff;border:none;border-radius:12px;padding:12px 16px;cursor:pointer;display:none}
/* ğŸ’¬ Khung hiá»ƒn thá»‹ Tá»ª Vá»°NG / Dá»ŠCH NGHÄ¨A / GIáº¢I THÃCH */
.meaning-box {
  background: #eaf7e6;              /* ná»n xanh nháº¡t */
  border-left: 4px solid #4CAF50;   /* viá»n xanh lÃ¡ bÃªn trÃ¡i */
  padding: 10px 14px;
  margin-top: 12px;
  border-radius: 6px;
  line-height: 1.6;
  font-size: 14px;
  color: #222;
  white-space: pre-line;            /* giá»¯ nguyÃªn xuá»‘ng dÃ²ng trong vocab */
}

.meaning-box strong {
  color: #1b5e20;                   /* chá»¯ â€œTá»ª Vá»°NGâ€, â€œDá»ŠCH NGHÄ¨Aâ€ Ä‘áº­m xanh Ä‘áº­m */
  font-weight: 600;
}

.meaning-box + .meaning-box {
  margin-top: 8px;                  /* táº¡o khoáº£ng cÃ¡ch giá»¯a cÃ¡c khung (náº¿u cÃ³ nhiá»u pháº§n) */
}

/* âœ… LÃ m Ä‘áº¹p pháº§n lá»±a chá»n */
.opt {
  display: flex;
  align-items: center;
  border: 1px solid #ccc;
  border-radius: 6px;
  margin: 6px 0;
  padding: 8px 10px;
  cursor: pointer;
  transition: 0.2s;
}

.opt:hover {
  background-color: #f5faff;
}

.opt input[type="radio"] {
  margin-right: 10px;
  accent-color: #2196f3;            /* mÃ u xanh cá»§a nÃºt chá»n */
}

.opt input[type="radio"]:checked + div {
  background-color: #d0e8ff;        /* ná»n xanh khi chá»n */
  border-radius: 4px;
  padding: 2px 6px;
  transition: 0.2s;
}

/* ğŸ§© HÃ¬nh áº£nh cÃ¢u há»i */
.q-img img {
  max-width: 100%;
  border: 1px solid #ccc;
  border-radius: 8px;
  margin: 8px 0;
}

/* ğŸ•“ Thanh thá»i gian */
.timer {
  font-weight: 700;
  color: #1e88e5;
}
.video-section {
  margin-top: 30px;
  padding: 16px;
  background: #f9fafb;
  border-radius: 10px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.1);
  text-align: center;
}

.video-section h3 {
  color: #1e3a8a;
  margin-bottom: 12px;
  font-size: 1.2rem;
}

.video-wrapper {
  position: relative;
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 3px 8px rgba(0,0,0,0.15);
}

.video-wrapper video {
  width: 100%;
  height: auto;
  display: block;
  border: none;
  outline: none;
  border-radius: 12px;
  background: #000;
}

.note {
  margin-top: 10px;
  font-size: 0.9rem;
  color: #555;
}
.result-explain-box {
  background: #f5faff;
  border-left: 4px solid #3b82f6;
  padding: 12px 14px;
  margin-top: 10px;
  border-radius: 6px;
}

.result-explain-box .explain-title {
  font-weight: bold;
  margin-bottom: 6px;
  color: #1e3a8a;
}

.result-explain-box .tip {
  margin-top: 8px;
  background: #fffbe6;
  border-left: 4px solid #facc15;
  padding: 8px;
  border-radius: 4px;
  font-size: 0.95em;
}
/* --- CSS THÃŠM VÃ€O Äá»‚ TÃ” MÃ€U ÄÃP ÃN VÃ€ ÄIá»€U CHá»ˆNH NÃšT --- */

/* 1. Äáº£m báº£o lá»›p cÆ¡ báº£n cho cÃ¡c lá»±a chá»n (Náº¿u chÆ°a cÃ³) */
.opt {
    display: flex;
    align-items: center;
    padding: 14px;
    margin-bottom: 10px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    /* Giá»¯ nguyÃªn font vÃ  bá»‘ cá»¥c khÃ¡c cá»§a báº¡n */
}

/* 2. Thiáº¿t láº­p mÃ u ná»n cho Ä‘Ã¡p Ã¡n ÄÃºng */
.opt.correct-answer {
    background-color: #d4edda; /* Ná»n xanh nháº¡t */
    border-color: #155724; /* Viá»n xanh Ä‘áº­m */
    font-weight: 500;
}

/* 3. Thiáº¿t láº­p mÃ u ná»n cho Ä‘Ã¡p Ã¡n Sai do ngÆ°á»i dÃ¹ng chá»n */
.opt.incorrect-picked {
    background-color: #f8d7da; /* Ná»n Ä‘á» nháº¡t */
    border-color: #721c24; /* Viá»n Ä‘á» Ä‘áº­m */
    font-weight: 500;
    opacity: 1; 
}

/* 4. Äá»‹nh vá»‹ vÃ  cÄƒn chá»‰nh cÃ¡c nÃºt Ä‘iá»u hÆ°á»›ng */
.nav {
    display: flex;
    justify-content: space-between; /* Äáº©y 3 nÃºt ra 2 bÃªn vÃ  giá»¯a */
    align-items: center;
    margin-top: 20px;
    gap: 10px; /* Khoáº£ng cÃ¡ch giá»¯a cÃ¡c nÃºt */
    width: 100%;
}

/* 5. Äáº£m báº£o nÃºt Giáº£i thÃ­ch (á»Ÿ giá»¯a) cÃ³ mÃ u vÃ  kÃ­ch thÆ°á»›c phÃ¹ há»£p */
#explainBtn {
    background-color: #007bff; /* MÃ u xanh dÆ°Æ¡ng (tÆ°Æ¡ng Ä‘Æ°Æ¡ng khoanh Ä‘en) */
    color: white;
    flex-grow: 1; /* Cho phÃ©p nÃºt nÃ y giÃ£n ra láº¥p Ä‘áº§y khoáº£ng trá»‘ng */
}

/* 6. Äá»‹nh vá»‹ NÃºt LÃ m Láº¡i CÃ¢u Sai (fixed) */
#floatingRedo {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #dc3545; /* MÃ u Ä‘á» ná»•i báº­t */
    color: #fff;
    border: none;
    padding: 12px 24px;
    border-radius: 9999px; /* HÃ¬nh trÃ²n */
    cursor: pointer;
    z-index: 1000;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    font-weight: bold;
    transition: all 0.2s ease;
}

#floatingRedo:hover {
    background-color: #c82333;
    transform: scale(1.05);
}

/* --- Háº¾T PHáº¦N CSS THÃŠM VÃ€O --- */
/* --- CSS Má»šI: DÃ™NG CHO PHáº¦N Káº¾T QUáº¢/GIáº¢I THÃCH (VÃ­ dá»¥ áº¢nh 2) --- */

/* 1. Ná»n vÃ ng nháº¡t cho toÃ n bá»™ cÃ¢u há»i trong pháº§n káº¿t quáº£ */
.result-item-container {
    padding: 15px;
    margin-bottom: 20px;
    border-radius: 10px;
    background-color: #fffbe6; /* MÃ u vÃ ng nháº¡t (giá»‘ng áº¢nh 2) */
    border: 1px solid #fbd38d;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

/* 2. Style cho Ä‘Ã¡p Ã¡n sau khi ná»™p bÃ i (Ã¡p dá»¥ng cho tá»«ng dÃ²ng Ä‘Ã¡p Ã¡n) */
.result-answer-line {
    padding: 8px 12px;
    margin: 5px 0;
    border-radius: 6px;
    font-weight: 500;
}

/* 3. Khung mÃ u xanh lÃ¡ cÃ¢y cho ÄÃ¡p Ã¡n ÄÃšNG trong pháº§n káº¿t quáº£ (giá»‘ng lÃºc chá»n Ä‘Ãºng) */
.result-answer-line.correct {
    background-color: #d4edda; /* Ná»n xanh nháº¡t */
    border: 1px solid #155724; /* Khung xanh Ä‘áº­m */
}

/* 4. Khung mÃ u Ä‘á» cho ÄÃ¡p Ã¡n SAI (cá»§a ngÆ°á»i dÃ¹ng) trong pháº§n káº¿t quáº£ */
.result-answer-line.incorrect {
    background-color: #f8d7da; /* Ná»n Ä‘á» nháº¡t */
    border: 1px solid #721c24; /* Khung Ä‘á» Ä‘áº­m */
}
```eof

---

## 2. File **`exam.js`** (Thay tháº¿ **toÃ n bá»™** ná»™i dung hÃ m `submitQuiz` báº±ng Ä‘oáº¡n code nÃ y)

Báº¡n cáº§n má»Ÿ file `exam.js`, tÃ¬m hÃ m `submitQuiz` (nÃ³ báº¯t Ä‘áº§u báº±ng `function submitQuiz() { ... }`) vÃ  thay tháº¿ toÃ n bá»™ ná»™i dung cá»§a hÃ m Ä‘Ã³ báº±ng Ä‘oáº¡n code dÆ°á»›i Ä‘Ã¢y.

**LÆ¯U Ã:** Äoáº¡n code nÃ y cÅ©ng bao gá»“m cáº£ logic xá»­ lÃ½ nÃºt "LÃ m láº¡i cÃ¢u sai" vÃ  logic hiá»ƒn thá»‹ káº¿t quáº£ tá»•ng quan.

```{javascript:HÃ m submitQuiz Ä‘Ã£ sá»­a Ä‘á»•i trong exam.js:exam.js}
function submitQuiz() {
    timerRunning = false; // Dá»«ng timer
    submitBtn.style.display = "none"; // áº¨n nÃºt ná»™p bÃ i
    let correct = 0;
    const wrongQuestions = []; // LÆ°u trá»¯ cÃ¡c Ä‘á»‘i tÆ°á»£ng cÃ¢u há»i sai

    const wrongHtml = questions
        .map((q, i) => {
            const picked = user[i];
            const isCorrect = isCorrectAnswer(i);
            
            if (isCorrect) {
                correct++;
                return ""; // KhÃ´ng hiá»ƒn thá»‹ cÃ¢u Ä‘Ãºng
            } else {
                wrongQuestions.push(q);
            }

            // Hiá»ƒn thá»‹ chi tiáº¿t cÃ¢u sai (vá»›i CSS má»›i)
            const pickedText = picked !== null ? q.options[picked].text : "(chÆ°a chá»n)";
            const correctOpt = q.options.find((o) => o.correct);

            return `
                <div class="result-item-container">
                    <div class="q-text font-medium text-gray-800 mb-3"><b>CÃ¢u ${i + 1}:</b> ${q.q}</div>
                    ${q.img ? `<img src="${q.img}" onerror="this.src='https://placehold.co/600x200/cccccc/333333?text=Image Placeholder';" style="max-width:100%;border-radius:8px;margin:8px 0;">` : ""}
                    
                    <div class="result-answer-line incorrect">
                        âŒ <b>ÄÃ¡p Ã¡n báº¡n chá»n:</b> ${pickedText}
                    </div>

                    <div class="result-answer-line correct">
                        âœ… <b>ÄÃ¡p Ã¡n Ä‘Ãºng:</b> ${correctOpt.text}
                    </div>

                    ${q.vi ? `<div class="mt-3 text-gray-600"><b>Dá»‹ch:</b> ${q.vi}</div>` : ""}
                    ${q.explain ? `<div class="mt-2 text-blue-700"><b>ğŸ“˜ Giáº£i thÃ­ch:</b> ${q.explain}</div>` : ""}
                    ${q.tip ? `<div class="mt-2 tip text-orange-700"><b>ğŸ’¡ Máº¹o:</b> ${q.tip}</div>` : ""}
                </div>
            `;
        })
        .filter(Boolean)
        .join("");

    quizEl.style.display = "none";
    resEl.style.display = "block";
    
    // Hiá»ƒn thá»‹ nÃºt lÃ m láº¡i cÃ¢u sai
    let floatingRedo = $("#floatingRedo");
    if (floatingRedo) {
        floatingRedo.style.display = wrongQuestions.length > 0 ? "block" : "none";
    }

    resEl.innerHTML = `
        <div class="result-title text-3xl font-extrabold text-center mb-6 p-4 rounded-lg ${correct > questions.length / 2 ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}">
            ${correct > questions.length / 2 ? 'ChÃºc má»«ng! ' : 'Cáº§n cá»‘ gáº¯ng! '} Báº¡n lÃ m Ä‘Ãºng ${correct}/${questions.length}
        </div>
        ${wrongQuestions.length ? `<h3 class="text-xl font-semibold mt-6 mb-3 border-b pb-2 text-gray-700">CÃ¡c CÃ¢u Báº¡n ÄÃ£ LÃ m Sai:</h3><div class="space-y-4">${wrongHtml}</div>` : "<div class='text-2xl text-center text-green-600 mt-8'>ğŸ‰ Báº¡n lÃ m Ä‘Ãºng táº¥t cáº£!</div>"}
    `;

    // LÆ°u láº¡i danh sÃ¡ch cÃ¢u sai Ä‘á»ƒ lÃ m láº¡i
    window.lastWrongQuestions = wrongQuestions;
}
```eof

**TÃ³m táº¯t cuá»‘i cÃ¹ng:**

* **`style.css`**: ThÃªm 4 Ä‘oáº¡n CSS má»›i (cÃ³ tiá»n tá»‘ `.result-`).
* **`exam.js`**: **Thay tháº¿** toÃ n bá»™ hÃ m `submitQuiz` báº±ng Ä‘oáº¡n code JavaScript má»›i.
